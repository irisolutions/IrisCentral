{# empty Twig template #}
{#{% extends 'DashboardBundle:Sales:manage-application.html.twig'%}#}
{#{% block head %}#}
{#<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">#}
{#<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">#}
{#<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>#}
{#<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>#}
{#<script>#}
    {#var edit=false;#}
    {#function getSelected()#}
    {#{#}
        {#var elements=$('.select');#}
        {#for(var i=0;i<elements.length;i++)#}
        {#{#}
            {#var element=$(elements.get(i));#}
            {#if(element.css("backgroundColor")!='rgb(255, 255, 255)')#}
            {#{#}
                {#return element;#}
            {#}#}
        {#}#}
        {#return -1;#}
    {#}#}
    {#function updateID()#}
    {#{#}
        {#var s="";#}
        {#var element=getSelected();#}
        {#if(element==-1)#}
            {#return -1;#}
        {#element=$(element).find("td");  #}
        {#$('.StartDate').val($($(element).get(1)).html());#}
       {#$('.EndDate').val($($(element).get(2)).html());#}
   {#}#}
        {#$(document).ready(function()#}
     {#{#}
         {#$('#deletbundle').val("");#}
    {#$('.select').click(function(){#}
        {#$('.select').css('background-color','white');#}
        {#$(this).css('background-color','#5f9ea0');#}
        {#$('#deletbundle').val($(this).find('td').find('b').html());#}
        {#$('#editbundle').val($(this).find('td').find('b').html());#}
        {#if(edit)#}
           {#updateID(); #}
    {#});#}
    {#$('.add-bundle').click(function()#}
    {#{#}
         {#$('.StartDate').val("");#}
       {#$('.EndDate').val("");#}
        {#$('.bundle-form').css('visibility','visible');#}
        {#$('.bundle-form').removeAttr('hidden');#}
        {#$('.Add').attr('name', 'add');#}
        {#$('.Add').val('Add Bundle');#}
        {##}
        {#$('.options').css('visibility','visible');#}
        {#$('.options').removeAttr('hidden');#}
        {#edit=false;#}
        {##}
    {#});#}
     {#$('.edit-bundle').click(function()#}
    {#{#}
        {##}
        {#if(updateID()==-1)#}
            {#return;#}
        {#$('.bundle-form').css('visibility','visible');#}
        {#$('.bundle-form').removeAttr('hidden');#}
        {#$('.Add').attr('name', 'edit');#}
        {#$('.Add').val('Edit Subscription');#}
        {#edit=true;#}
        {#$('.options').css('visibility','hidden');#}
        {#$('.options').attr('hidden','true');#}
    {#});#}
    {#});#}
    {#</script>#}
{#<style type="text/css">#}
    {#h1{#}
        {#margin: 30px 0;#}
        {#padding: 0 200px 15px 0;#}
        {#border-bottom: 1px solid #E5E5E5;#}
    {#}#}
	{#.bs-example{#}
    	{#margin: 20px;#}
    {#}#}
    {#.form-style-2-heading{#}
    {#font-weight: bold;#}
    {#font-style: italic;#}
    {#border-bottom: 2px solid #ddd;#}
    {#margin-bottom: 40px;#}
    {#margin-top:40px;#}
    {#font-size: 15px;#}
    {#padding-bottom: 3px;#}
{#}#}

{#.material-icons {#}
    {#display: inline-flex;#}
    {#align-items: center;#}
    {#justify-content: center;#}
    {#vertical-align: middle;#}
{#}#}
    {#@media only screen and (max-width:412px) {#}
        {#b{#}
           {#font-size: 9px ;#}
        {#}#}
    {#}#}
    {#@media only screen and (max-width:767px) {#}
        {#.remove{#}
           {#margin-top: 5px;#}
        {#}#}
    {#}#}

    {#.selecter{#}
        {#min-height: 32px;#}
{#width: 80%;#}
        {#border: 2px solid gainsboro;#}
        {#border-radius: 5px;#}
{#z-index: 1000;#}
    {#}#}
{#</style>#}
 {##}
 {#{% endblock  %}#}
{#{% block breadcrumb %}#}

{#Sales  &rsaquo; Manage Clients &rsaquo; {{clientname[0]}} Bundles#}

{#{% endblock %}#}

{#{% block body %}#}

{#<div style="width:80%; margin-left:10%; margin-top:5%; margin-bottom:10%;">#}
        {#<div><h4>{{clientname[0]}} Bundles</h4></div>#}
        {#<div class="datagrid" style="margin-bottom: 5%;overflow: auto !important;">#}
 {#<table>#}

        {#<thead>#}
          {#<tr>#}
              {#<th>Name</th>#}
              {#<th>Start Date</th>#}
              {#<th>End Date</th>#}
              {#<!-- <th>Operations</th> -->#}
          {#</tr>#}
        {#</thead>#}

        {#<tbody>#}
        {#{% for bundle in bundles %}#}
            {#<tr class="select" style="background-color: white">#}
                          {##}
            {#<td>&nbsp;&nbsp;#}
                {#<b>{{ bundle.Name }}</b>#}
                {#<br style="line-height:180%;">#}
                {##}
            {#</td>#}
            {#<td>{{ bundle.Start }} </td>#}
            {#<td>{{ bundle.End }} </td>#}
          {#</tr>#}
          {#{% endfor %}#}
        {#</tbody>#}
      {#</table>#}
      {#</div>#}
        {##}
        {#<form class="dataform form-horizontal col-xs-12" method="post"  >#}
            {#<div class="add-bundle btn btn-primary col-sm-2 col-xs-4 " style="margin-left: 2px;">#}
                      {#Add#}
                  {#</div>#}
                  {##}

                  {#<div class="edit-bundle btn btn-primary col-sm-2 col-xs-4" style="margin-left: 2px;">#}
                      {#Edit#}
                  {#</div>#}

                  {#<input onclick=" return confirm('Are you sure you want to remove the subscription ');" type="submit" name="delete" class="btn btn-primary col-sm-3 col-xs-4 remove" value="Remove" style="margin-left: 2px;">#}

                  {#<div class="col-xs-12 bundle-form" style="margin-top: 3%;visibility: hidden;  width: 95%;#}
            {#margin: auto;#}
            {#border: 1px solid;#}
            {#border-color: gainsboro;#}
            {#border-radius: 5px;#}
            {#margin-top: 20px;#}
        {#" >#}
                      {#<div class="form-style-2-heading "> Subscription info </div>#}
                      {#<div class="row">#}

                      {#<div class="col-lg-4" >#}
                          {#<p class="options ">#}
                              {#Bundles:#}
                          {#</p>#}
                          {#<select name="newbundle " class="options col-lg-2 selecter">#}
                              {#<option value="">#}

                              {#</option>#}
                              {#{% for bundle in allbundles %}#}
                                  {#<option value="{{bundle.ID}}">#}
                                      {#{{bundle.Name}}#}
                                  {#</option>#}
                              {#{%endfor%}#}
                          {#</select>#}
                      {#</div>#}
                      {#<div class="col-lg-4" >#}

                          {#<p class=" ">#}
                              {#Sart Date:#}
                          {#</p>#}
                          {#<input class="col-lg-2 StartDate selecter" type="date"name="StartDate" placeholder="yyyy-mm-dd">#}
                      {#</div>#}
                      {#<div class="col-lg-4" >#}
                          {#<p class="   " >#}
                              {#End Date:#}
                          {#</p>#}
                          {#<input class="EndDate selecter" type="date"name="EndDate"placeholder="yyyy-mm-dd">#}
                      {#</div>#}



                  {#<div class="col-xs-12 " style="margin-top: 3%">#}

                      {#<input style="border:1px solid #aaa;margin-bottom: 5% " type="submit" class=" Add btn btn-primary " value="Add Bundle">#}
                 {#</div>#}
                  {#</div>#}
                  {#</div>#}
                  {#<div class="col-xs-5">#}
                      {#<input type="text" name="deletedbundle" vlaue="" id="deletbundle" >#}
                      {#<input type="text" name="editbundle" vlaue="" id="editbundle" >#}
                  {#</div>#}

        {#</form>#}
{#</div>#}
  {##}
{#{% endblock %}#}

{# empty Twig template #}
{% extends 'DashboardBundle:Sales:manage-application.html.twig'%}
{% block head %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"
          xmlns="http://www.w3.org/1999/html">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
        var edit=false;
        function getSelected()
        {
           // alert(this.name);
            var elements=$('.select');
            for(var i=0;i<elements.length;i++)
            {
                var element=$(elements.get(i));
                if(element.css("backgroundColor")!='rgb(255, 255, 255)')
                {
                    return element;
                }
            }
            return -1;
        }
        function updateID()
        {
            var s="";
            var element=getSelected();
            if(element==-1)
                return -1;
            element=$(element).find("td");
            $('.StartDate').val($($(element).get(1)).html());
            $('.EndDate').val($($(element).get(2)).html());
        }
        $(document).ready(function()
        {

            //
            // $('.deleteBundleIcon').click(function () {
            // ///    alert("deleteBundleIcon");
            // //    alert($('#deletbundle').val($(this).find('td').find('b').html())
            //     )
            // })
            // $('#exampleModalCentermpleModalCenter').modal('show');
            $('#deletbundle').val("");
            // $('.select').click(function(){
            //     $('.select').css('background-color','white');
            //     $(this).css('background-color','#5f9ea0');
            //     $('#deletbundle').val($(this).find('td').find('b').html());
            //     $('#editbundle').val($(this).find('td').find('b').html());
            //     if(edit)
            //         updateID();
            // });
            $('.AddButton').click(function()
            {
                $('.StartDate').val("");
                $('.EndDate').val("");
                $('.bundle-form').css('visibility','visible');
                $('.bundle-form').removeAttr('hidden');
                $('.Add').attr('name', 'add');
                $('.Add').val('Add Bundle');

                $('.options').css('visibility','visible');
                $('.options').removeAttr('hidden');
                edit=false;

            });
            $('.edit-bundle').click(function()
            {


                // $('.bundle-form').css('visibility','visible');
                // $('.bundle-form').removeAttr('hidden');
                // $('.Add').attr('name', 'edit');
                // $('.Add').val('Edit Subscription');
                // edit=true;
                // $('.options').css('visibility','hidden');
                // $('.options').attr('hidden','true');
            });
        });
        function dosomething(val){
       //   alert(val.name);
             $('#editbundle').val(val.name);
        $('.bundle-form').css('visibility','visible');
        $('.bundle-form').removeAttr('hidden');
        $('.Add').attr('name', 'edit');
        $('.Add').val('Edit Subscription');
        edit=true;
        $('.options').css('visibility','hidden');
        $('.options').attr('hidden','true');
        }
    </script>
    <script type="text/javascript">
        function submitform() {
            //alert("submit form ");
            document.myform.submit(); }
    </script>
    <style type="text/css">
    h1{
    margin: 30px 0;
    padding: 0 200px 15px 0;
    border-bottom: 1px solid #E5E5E5;
    }
    .bs-example{
    margin: 20px;
    }
    .form-style-2-heading{
    font-weight: bold;
    font-style: italic;
    border-bottom: 2px solid #ddd;
    margin-bottom: 40px;
    margin-top:40px;
    font-size: 15px;
    padding-bottom: 3px;
    }

    .material-icons {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    }

    @media only screen and (max-width:767px) {
    .remove{
    margin-top: 5px;
    }
    }

    .selecter{
        margin-left: 10px;
    min-height: 32px;
width: 50%;
    border: 1px solid gainsboro;
    border-radius: 5px;
    z-index: 1000;
    }
        .col-xs-3{
        }

     @media only screen and (max-width:412px) {
        b{
            font-size: 9px ;
        }

    }
    @media only screen and (max-width:460px) {

        .selecter{
            width: 100%;
        }
    }
    .modal-body{
        padding: 0px !important;
    }
        .add-bundle{

        margin-top: 3%;
        }
    .modal-header .close {
        margin-top: -22px !important;
    }


    </style>

{% endblock  %}
{% block breadcrumb %}

    Sales  &rsaquo; Manage Clients &rsaquo; {{clientname[0]}} Bundles

{% endblock %}

{% block body %}


    <!--Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog modal-dialog-centered" role="document" style="    margin-top: 85px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Model To Add Bundles </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form  name= "myform" class="dataform form-horizontal col-xs-12" method="post" style="margin-bottom: 10px" >

                    {#<div class="add-bundle btn btn-primary col-md-2 col-sm-3">#}
                            {#Add#}
                        {#</div>#}


                        {#<div class="edit-bundle btn btn-primary col-md-2 col-sm-3" style="margin-left: 10px">#}
                            {#Edit#}
                        {#</div>#}

                        {#<input onclick=" return confirm('Are you sure you want to remove the subscription ');" type="submit" name="delete" class="btn btn-primary  col-md-2 col-sm-3" value="Remove" style="margin-left: 10px;    margin-top: 3%;">#}

                        <div class="col-xs-12 bundle-form" style=" margin-top: 3% ;visibility: hidden;    width: 95%;
                margin-bottom: 2%;
                margin-left: 3%;
                 border: 1px solid gainsboro;
                 border-radius: 5px; ">
                            <div class="form-style-2-heading "> Subscription info </div>
                            <div class="row" style="width: 100%">
                                <p class="options col-md-3 col-sm-6">
                                    Bundles:
                                </p>
                                <select name="newbundle" class="options  col-md-3 col-sm-6 selecter">
                                    <option value="">

                                    </option>
                                    {% for bundle in allbundles %}
                                        <option value="{{bundle.ID}}">
                                            {{bundle.Name}}
                                        </option>
                                    {%endfor%}
                                </select>
                            </div>
                            <div class="row" style="width: 100%;margin-top: 10px;">
                                <p class="col-md-3 col-sm-6">
                                    Start Date:
                                </p>

                                <input class="col-md-3 col-sm-6 StartDate selecter" type="date" name="StartDate" placeholder="yyyy-mm-dd">

                            </div>
                            <div class="row" style="width: 100%;margin-top: 10px;">
                                <p class="col-md-3 col-sm-6 " >
                                    End Date:
                                </p>

                                <input class="col-md-3 col-sm-6  EndDate selecter" type="date" name="EndDate" placeholder="yyyy-mm-dd">
                            </div>
                            <div class="col-xs-12" style="margin-top: 3%">


                                <input style="border:1px solid #aaa;margin-bottom: 5% " type="submit" class=" Add btn btn-primary" value="Add Bundle">
                            </div>
                        </div>
                        <div class="col-xs-5">
                            <input type="text" name="deletedbundle" value="" id="deletbundle" hidden="" >
                            <input type="text" name="editbundle" value=" leena" id="editbundle" hidden="" >


                        </div>
                    </form>


                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    {#<button type="button" class="btn btn-primary">Save changes</button>#}
                </div>
            </div>
        </div>
    </div>



    <div style="width:80%; margin-left:10%; margin-top:5%; margin-bottom:10%;">
        <div><h4>{{clientname[0]}} Bundles</h4>
        </div>

            <button type="button" class="btn btn-primary AddButton" data-toggle="modal"  data-target="#exampleModalCenter" style="float: right; margin-top: -37px;" > Add Bundle </button>
        <div class="datagrid" style="margin-bottom: 5%">
            <table>

                <thead>
                <tr>
                    <th>Name</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <!-- <th>Operations</th> -->
                </tr>
                </thead>

                <tbody>
                {% for bundle in bundles %}


                <tr class="select" style="background-color: white">





                        <td>&nbsp;&nbsp;
                            <b>{{ bundle.Name }}</b>
                            <br style="line-height:180%;">
                            <form  name= "myform" class="dataform form-horizontal col-xs-12" method="post" style="margin-bottom: 10px" >
                                <input type="text" name="deletedbundle" value="{{ bundle.Name }}" id="deletbundle" hidden="" >

                                <input class="col-md-3 col-sm-6 StartDate selecter" type="date" name="delete" placeholder="yyyy-mm-dd" hidden="" value="{{ bundle.Start }}">

                                <input class="col-md-3 col-sm-6 StartDate selecter" type="date" name="StartDate" placeholder="yyyy-mm-dd" hidden="" value="{{ bundle.Start }}">

                                <input class="col-md-3 col-sm-6  EndDate selecter" type="date" name="EndDate" placeholder="yyyy-mm-dd" hidden="" value="{{ bundle.End }}">

                                <a href="#" onclick="$(this).closest('form').submit()" class="deleteBundleIcon"  type="submit" name="delete"><i class="fa fa-trash " aria-hidden="true" ></i>
                                    Delete
                                </a>
                                &nbsp;&nbsp;&nbsp;






                                <a href="#" data-toggle="modal"   name="{{ bundle.Name }}" onclick="dosomething(this)" data-target="#exampleModalCenter" class="edit-bundle"  ><i class="fa fa-pencil-square-o" aria-hidden="true"></i>

                                    Edit
                                </a>


                            </form>
                        </td>
                        <td>{{ bundle.Start }} </td>
                        <td>{{ bundle.End }} </td>
                    </tr>

                {% endfor %}
                </tbody>
            </table>
        </div>


    </div>

{% endblock %}