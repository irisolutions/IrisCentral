<!DOCTYPE html>
<html lang="en">
<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown menu if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

</script>

    <head>
	<!-- stylesheet -->
      <!--  <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.2.1/material.red-pink.min.css"> 
      <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.3.0/material.blue-indigo.min.css">
     <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.2.1/material.indigo-blue.min.css"> 
     <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.3.0/material.red-pink.min.css">
     <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.2.1/material.blue-deep_orange.min.css">
     -->

     	<link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.3.0/material.blue-indigo.min.css" >
        <link rel="stylesheet" href="{{ asset('css/style.css') }}">
         <link rel="stylesheet" href="{{ asset('css/extra-style.css') }}"> 
        <!-- seo -->
        <title>{% block title %} {% endblock %} </title>
      
        <!-- viewport -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
        .dropdown-content{
            margin-top: 0 !important;
            margin-left: 0!important;
        }
        .dropdown-content a {
            color: #616161;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content {
            display: none;
            position: absolute;

            background-color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }
        .dropbtn:hover, .dropbtn:focus {
            background-color: #005E97;
            outline: 0;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .dropdown-content a:hover {
            background-color: #f1f1f1 !important;
        }

        </style>

        {% block head %}{% endblock %}
    </head>
    
    <body class="mdl-color--grey-100 mdl-color-text--grey-700 mdl-base">
        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
            <header class="mdl-layout__header">
                <div class="mdl-layout__header-row">
                    <span class="fd-breadcrumb mdl-layout-title">
                        {% block breadcrumb %}{% endblock %}
                    </span>

                    <div class="mdl-layout-spacer"></div>

                   
                    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                    <div> &nbsp;&nbsp;&nbsp;&nbsp;</div>
    				
    				<div class="dropdown">
  					<button onclick="myFunction()" class="dropbtn">{{ app.user.name }} <i style="margin-top: 10px;" class="fa fa-caret-down" aria-hidden="true" title="Toggle dropdown menu"></i></button>
  					<div id="myDropdown" class="dropdown-content">
    					<a href="{{ path('admin_account') }}"><i class="fa fa-user icon" aria-hidden="true"></i>My Account</a>
                        <hr style="
    display: block;
    height: 1px;
    border: 0;
    border-top: 1px solid #ccc;
    /* margin: 1em 0; */
    padding: 0;
    margin: 0px;
">

                        <a href="{{ path('admin_logout') }}"> <i class="fa fa-sign-out icon" aria-hidden="true"></i>Sign Out</a>
  					</div>
					</div>
    				
    				{% else %}
    				<div><h1> <a class="mdl-navigation__link" href="{{ path('admin_login') }}">Sign-in</a></h1></div>
					{% endif %}
                </div>
            </header>
            {% block nav_categories %}
              {{ render(controller("DashboardBundle:Menu:index")) }}
            {% endblock %}
            <main class="mdl-layout__content">   
            {% block flash_messages %}
    			{% for type, messages in app.session.flashbag.all() %}
       			 {% for message in messages %}
            		<div class="alert alert-{{ type }} alert-dismissible" role="alert">
               		 <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                	{{ message | raw }}
           		 </div>
        		{% endfor %}
    			{% endfor %}
			{% endblock %}
    				
                {% block body %}
                
                {% endblock %}

            </main>


        </div>
        <footer class="mdl-mini-footer col-xs-12">
            <div class="mdl-mini-footer__left-section">
                <div class="mdl-logo">
                    Iris Central is a property of Iris Interactive Solutions.
                </div>
            </div>
        </footer>
        <!-- stylesheet -->
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700">
        <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- javascript -->
        <script src="//storage.googleapis.com/code.getmdl.io/1.2.1/material.min.js"></script>
    </body>
</html>
